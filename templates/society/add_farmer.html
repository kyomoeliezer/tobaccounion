{% extends "common/base.html" %}
{% load static %}

{% block content %}
<div id="content-page" class="content-page">
   <div class="container-fluid">
    <div class="row">
     <div class="col-12">
        <div class="iq-card">
            <div class="iq-card">
                <div class="iq-card-header d-flex justify-content-between row">
                   <div class="iq-header-title col-12">
                      <h4 class="card-title">{% if form %} Edit {% else %} Add {% endif %} Farmer</h4>
                   </div>
                   {% if message %}
                   <div class="alert alert-danger col-6 ml-4" role="alert">
                     <div class="iq-alert-icon">
                       <i class="ri-information-line"></i>
                    </div>
                    <div class="iq-alert-text alert-danger">{{message}}</div>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                     <i class="ri-close-line text-danger"></i>
                     </button>
                 </div>
                 {% endif %}
                </div>
                <div class="iq-card-body">

                   <form {% if form %} action="{% url 'association:edit-farmer' farmer_id=form.id%}" {% else %} action="{% url 'association:add-farmer'%}" {% endif%} method="post">
                      {% csrf_token %}
                    <div class="row">
                        <div class="form-group col-6">
                            <label for="text">First Name:</label>
                            <input type="text" class="form-control"  {% if form %} value="{{form.first_name}}" {% endif %} name="first_name" required>
                         </div>
                         <div class="form-group col-6">
                            <label for="text">Middle Name:</label>
                            <input type="text" class="form-control"  {% if form %} value="{{form.middle_name}}" {% endif %} name="middle_name">
                         </div>
                         <div class="form-group col-6">
                            <label for="text">Last Name:</label>
                            <input type="text" class="form-control"  {% if form %} value="{{form.last_name}}" {% endif %} name="last_name" required>
                         </div>
                         <div class="form-group col-6">
                            <label for="text">Farmer Code:</label>
                            <input type="text" class="form-control"  {% if form %} value="{{form.farmer_code}}" {% endif %} name="farmer_code" required>
                         </div>
                         <div class="form-group col-6">
                            <label for="text">Phone Number:</label>
                            <input type="number" class="form-control"  {% if form %} value="{{form.phone_number}}" {% endif %} name="phone_number" required>
                         </div>
                         <div class="form-group col-6">
                           <label for="text">Primary Society:</label>
                           <select class="form-control" id="exampleFormControlSelect1" name="society">
                             <option   {% if form %} value="{{form.society.id}}" {% else %} selected="" disabled="" {% endif %} > {% if form %} {{form.society.name }} {% else %} Select Primary Society {% endif %}</option>
                             {% for primary in primary_societies %}
                             <option value="{{primary.id}}">{{primary.name}}</option>
                             {% endfor %}
                          </select>
                        </div>
                        <div class="form-group col-6">
                           <label for="text">Region:</label>
                           <select class="form-control" id="exampleFormControlSelect1" name="region">
                              <option   {% if form %} value="{{form.region.id}}" {% else %} selected="" disabled="" {% endif %} > {% if form %} {{form.region.region_name }} {% else %} Select Region  {% endif %}</option>
                             {% for region in regions %}
                             <option value="{{region.id}}">{{region.region_name}}</option>
                             {% endfor %}
                          </select>
                        </div>

                         <div class="col-12">
                            <button type="submit" class="btn btn-primary float-right" >{% if form %} Save  {% else %} Create {% endif %}</button>
                         </div>
                    </div>
                   </form>
                </div>
             </div>
        </div>
       </div>
       </div>
      </dev>


{% endblock %}
